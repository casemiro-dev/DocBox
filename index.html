<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Registro de Atendimento</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />

  <!-- ğŸ” VerificaÃ§Ã£o de login -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyA4vzmTjrt27KisKnFZd7M2legSrt3ee6E",
      authDomain: "docbox-a20c2.firebaseapp.com",
      projectId: "docbox-a20c2",
      storageBucket: "docbox-a20c2.firebasestorage.app",
      messagingSenderId: "85276909046",
      appId: "1:85276909046:web:625043716c1d695c22bbd7",
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    onAuthStateChanged(auth, user => {
      if (!user) {
        window.location.href = "login.html"; // ğŸ” redireciona se nÃ£o estiver logado
      }
    });
  </script>

  <script src="script.js" defer></script>
</head>
<body>

  <div class="container">
    <!-- ğŸ”² BotÃ£o quadrado de alternÃ¢ncia de tema -->
    <div class="top-bar">
      <div class="linha-superior">
        <button id="btn-faster-desk">Faster/Desk</button>
        <button id="btn-mp" class="btn-personalizado">M.P</button>
        <button id="btn-mpdesk" class="btn-personalizado">M.P Desk</button>
      </div>
      <div class="linha-inferior">
        <button id="btn-tema">ğŸ’¡</button>
      </div>
    </div>

    <div class="info-grid">
      <div class="field">
        <input type="text" id="chat-protocolo" placeholder="Protocolo do Chat" />
      </div>
      <div class="protocols-row">
        <input type="text" id="prot-gerado" placeholder="Prot. Gerado" />
        <input type="text" id="prot-ref-adm" placeholder="Prot. Ref. ADM" />
      </div>
      <div class="field input-wrapper titular-wrapper">
        <input type="text" id="cliente-nome" placeholder="Nome do Cliente" />
        <button type="button" id="btn-titular" class="btn-icon right animado" title="Titular">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#ffffff" viewBox="0 0 24 24">
            <path d="M12 12c2.76 0 5-2.24 5-5s-2.24-5-5-5S7 4.24 7 7s2.24 5 5 5zm0 2c-3.33 0-10 1.67-10 5v3h20v-3c0-3.33-6.67-5-10-5z"/>
          </svg>
        </button>
      </div>
      <div class="field">
        <input type="tel" id="telefone" placeholder="(xx) y xxxx-xxxx"/>
      </div>
      <div class="field input-wrapper cpf-wrapper">
        <input type="text" id="doc-id" placeholder="CPF ou CNPJ" />
        <button type="button" id="btn-validar" class="btn-icon right animado">âœ</button>
        <button type="button" id="btn-limpar" class="btn-icon left animado">âŠ˜</button>
      </div>

      <div class="html-buttons" style="display: flex; gap: 6px;">
        <button type="button" onclick="addToTextArea('<hr>')">&lt;hr&gt;</button>
        <button type="button" onclick="addToTextArea('<br>')">&lt;br&gt;</button>
        <button type="button" onclick="addToTextArea('<b>')">&lt;b&gt;</button>
        <button type="button" onclick="addToTextArea('</b>')">&lt;/b&gt;</button>
      </div>
    </div>

    <div class="field full-width">
      <textarea id="anotacoes" placeholder="Registre o atendimento..."></textarea>
    </div>

    <div class="button-group">
      <button id="btn-copiar-protocolo">
        Protocolo
        <img src="protocolo.png" alt="Protocolo" class="btn-icon" />
      </button>

      <button id="btn-copiar-atendimento">
        Copiar
        <img src="copiar.png" alt="Copiar" class="btn-icon" />
      </button>

      <button id="btn-transferir">
        Transferir
        <img src="transferir.png" alt="Transferir" class="btn-icon" />
      </button>

      <button id="btn-apagar">
        Apagar
        <img src="excluir.png" alt="Apagar" class="btn-icon" />
      </button>
    </div>

    <p id="mensagem-copiado" class="copiado-msg"></p>

    <div class="agendamento-wrapper">
      <div class="agendamento-top">
        <select id="periodo-agendamento">
          <option value="">Turno</option>
          <option value="manha">ManhÃ£</option>
          <option value="tarde">Tarde</option>
          <option value="noite">Noite</option>
        </select>

        <div class="blocos-data">
          <input type="date" id="data1" placeholder="dd/mm/aaaa">
          <input type="date" id="data2" placeholder="dd/mm/aaaa">
          <input type="date" id="data3" placeholder="dd/mm/aaaa">
        </div>
      </div>

      <div class="field full-width">
        <input type="text" id="disponibilidade" placeholder="Disponibilidade Geral">
      </div>

      <div class="field full-width">
        <input type="text" id="referencia" placeholder="Ponto de referÃªncia">
      </div>

      <div class="checkboxes">
        <label><input type="checkbox"> Cliente ciente de que deve haver uma pessoa maior de idade.</label><br>
        <label><input type="checkbox"> Garantia de InstalaÃ§Ã£o (30 dias).</label><br>
        <label><input type="checkbox"> Cliente empresarial.</label>
      </div>
    </div>

    <div class="linha-divisoria"></div>
    <div class="lgpd-wrapper">
      <button id="btn-lgpd" onclick="window.open('https://casemiro-dev.github.io/LGPD/', '_blank')">
        LGPD
      </button>
    </div>
  </div>
</body>
</html>
